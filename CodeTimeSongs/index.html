<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="music.css">
    <!-- Icons Link -->
    <link href="https://cdn.lineicons.com/2.0/LineIcons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <title>Code Time Songs</title>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-8 player_back">
                <div class="song_ground">
                    <audio src="songs/1.mp3" id="current_audio" style="display: none;"></audio>
                    <div class="song_img">
                        <div class="now_playing_details">
                            <h4><i>Now Playing . . .</i></h4>
                            <div id="current_detail">
                                <h4>Bach Aria Variata</h4>
                                <span class="badge bg-light">1</span>
                                <p>02:20</p>
                            </div>
                        </div>
                        <div class="justify-content-center align-items-center track_s">
                            <i class="fas fa-step-backward" id="backward" onclick="next(1)"></i>
                            <i class="fas fa-play-circle play_icon" onclick="play(1)" id="play_song"></i>
                            <i class="fas fa-pause-circle play_icon" onclick="play(2)" id="pause_song" style="display: none;"></i>
                            <i class="fas fa-step-forward " id="forward" onclick="next(2)"></i>
                        </div>
                        <input type="range" id="song_length" min="0" step="0.1" value="0">
                        <div class="current_time">
                            <span>
                                <i class="fas fa-volume-mute speaker" id="mute_btn" style="display: none" onclick="mute_song(2)"></i>
                                <i class="fas fa-volume-up speaker" id="vol_btn" onclick="mute_song(1)"></i>
                            </span>
                            <span id="time_laps"></span> / <span id="total_time"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class=" col-lg-4 songs_list">
                <div class="songs_ground">
                    <div class="list_in_songs list_odd" onclick="change_song(1)" id="song1">
                        <h4>Bach Aria Variata</h4>
                        <span class="badge bg-light">1</span>
                        <p>02:20</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(2)" id="song2">
                        <h4>Mozart Sonata</h4>
                        <span class="badge bg-light">2</span>
                        <p>06:16</p>
                    </div>
                    <div class="list_in_songs list_odd" onclick="change_song(3)" id="song3">
                        <h4>Pathetique</h4>
                        <span class="badge bg-light">3</span>
                        <p>06:20</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(4)" id="song4">
                        <h4>Schuberts</h4>
                        <span class="badge bg-light">4</span>
                        <p>08:02</p>
                    </div>
                    <div class="list_in_songs list_odd" onclick="change_song(5)" id="song5">
                        <h4>Gluck Gluck Balleta</h4>
                        <span class="badge bg-light">5</span>
                        <p>08:20</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(6)" id="song6">
                        <h4>Serial Killer</h4>
                        <span class="badge bg-light">6</span>
                        <p>02:36</p>
                    </div>
                    <div class="list_in_songs list_odd" onclick="change_song(7)" id="song7">
                        <h4>Time</h4>
                        <span class="badge bg-light">7</span>
                        <p>03:02</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(8)" id="song8">
                        <h4>Responsibility</h4>
                        <span class="badge bg-light">8</span>
                        <p>02:59</p>
                    </div>
                    <div class="list_in_songs list_odd" onclick="change_song(9)" id="song9">
                        <h4>Old Key</h4>
                        <span class="badge bg-light">9</span>
                        <p>02:37</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(10)" id="song10">
                        <h4>Brotherhood</h4>
                        <span class="badge bg-light">10</span>
                        <p>02:01</p>
                    </div>
                    <div class="list_in_songs list_odd" onclick="change_song(11)" id="song11">
                        <h4>Dramatic Ending</h4>
                        <span class="badge bg-light">11</span>
                        <p>03:49</p>
                    </div>
                    <div class="list_in_songs list_even" onclick="change_song(12)" id="song12">
                        <h4>The Bards Tale</h4>
                        <span class="badge bg-light">12</span>
                        <p>02:38</p>
                    </div>
                </div>
            </div>
            <!-- Optional JavaScript; choose one of the two! -->
            <!-- Option 1: Bootstrap Bundle with Popper -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
            <script type="text/javascript">
            var current_song_no = 1;

            var audio_id = document.getElementById("current_audio");
            var slider = document.getElementById("song_length");
            slider.oninput = function() {
                audio_id.currentTime = this.value;
            }

            function next(value) {
                if (value == 1) {
                    if (current_song_no == 1) {
                        var x = "songs/12.mp3";
                        current_song_no = 12;
                        document.getElementById("current_audio").src = x;
                        play(1);
                    } else {
                        current_song_no = current_song_no - 1;
                        var x = "songs/" + current_song_no + ".mp3";
                        document.getElementById("current_audio").src = x;
                        play(1);
                    }
                } else if (value == 2) {
                    if (current_song_no == 12) {
                        var x = "songs/1.mp3";
                        current_song_no = 1;
                        document.getElementById("current_audio").src = x;
                        play(1);
                    } else {
                        current_song_no++;
                        var x = "songs/" + current_song_no + ".mp3";
                        document.getElementById("current_audio").src = x;
                        play(1);

                    }
                }
            }

            function refresh() {
                var audio_id = document.getElementById("current_audio");
                var audio_length = audio_id.duration;

                document.getElementById("song_length").max = audio_length;
                document.getElementById("song_length").value = audio_id.currentTime;

                audio_min = parseInt(audio_length / 60);
                over_sec = parseInt(audio_length % 60);

                if (audio_min < 10) {
                    audio_min = "0" + audio_min;
                }
                if (over_sec < 10) {
                    over_sec = "0" + over_sec;
                }

                current_min = parseInt(audio_id.currentTime / 60);
                current_sec = parseInt(audio_id.currentTime % 60);

                if (current_sec < 10) {
                    current_sec = "0" + current_sec;
                }
                if (current_min < 10) {
                    current_min = "0" + current_min;
                }
                document.getElementById("total_time").innerHTML = audio_min + ":" + over_sec;
                document.getElementById("time_laps").innerHTML = current_min + ":" + current_sec;

                if (audio_length == audio_id.currentTime) {
                    next(2);
                }

            }

            function mute_song(value) {
                var audio_id = document.getElementById("current_audio");
                if (value == 1) {
                    audio_id.muted = true;
                    document.getElementById("mute_btn").style.display = "inline";
                    document.getElementById("vol_btn").style.display = "none";
                } else if (value == 2) {
                    audio_id.muted = false;
                    document.getElementById("mute_btn").style.display = "none";
                    document.getElementById("vol_btn").style.display = "inline";
                }
            }

            function play(value) {
                var p = setInterval(refresh, 100);
                var audio_id = document.getElementById("current_audio");
                if (value == 1) {
                    document.getElementById("play_song").style.display = "none";
                    document.getElementById("pause_song").style.display = "inline";
                    audio_id.play();
                } else if (value == 2) {
                    document.getElementById("pause_song").style.display = "none";
                    document.getElementById("play_song").style.display = "inline";
                    audio_id.pause();
                }
                var y = "song" + current_song_no;
                document.getElementById("current_detail").innerHTML = document.getElementById(y).innerHTML;
            }

            function change_song(value) {
                var x = "songs/" + value + ".mp3";
                current_song_no = value;
                document.getElementById("current_audio").src = x;
                play(1);
            }
            </script>
</body>

</html>